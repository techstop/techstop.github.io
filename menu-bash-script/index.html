<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Create a Menu in a Bash Script - techStop</title>
  <meta name="author" content="Antonio">
  <meta name="description" content="Learn how to create a menu in a bash script. Follow this tutorial to learn how to create menus that will add more versatility and a better user experience for your bash scripts.">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,300,700|Noto+Serif:400,400italic,700,700italic" type="text/css">
  <link rel="stylesheet" href="https://techstop.github.io/css/styles.css">
  <link rel="stylesheet" href="https://techstop.github.io/css/syntax.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="https://techstop.github.io/post/index.xml" rel="alternate" type="application/rss+xml" title="techStop" />
  <link href="https://techstop.github.io/post/index.xml" rel="feed" type="application/rss+xml" title="techStop" />
  <link rel="icon" href="https://techstop.github.io/img/favicon.ico">
  <link rel="apple-touch-icon" href="https://techstop.github.io/img/apple-touch-icon.png" />
  
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-114983197-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-114983197-2');
</script>

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-8645513020646755",
          enable_page_level_ads: true
     });
</script>

</head>
<body>
    <header class="site-header">
  <style>
    .site-header h2 .logo {
    background: url(https://techstop.github.io/img/techStop_header.png) no-repeat 0 0;
    }
    @media (min--moz-device-pixel-ratio: 1.3), (-o-min-device-pixel-ratio: 2.6 / 2), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {
      .site-header h2 .logo {
        background-image: url(https://techstop.github.io/img/techStop_header.png);
    } }
    .site-header {
      background: #2a373d url(https://techstop.github.io/img/techStop_header.png) no-repeat center center;
      -webkit-background-size: cover;
      -moz-background-size: cover;
      -o-background-size: cover;
      background-size: cover;
    }
  </style>
  <script>
    window.onscroll = function() {scrollFunction()};
    function scrollFunction() {
      if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
        document.getElementById("myBtn").style.display = "block";
      } else {
        document.getElementById("myBtn").style.display = "none";
      }
    }
    function topFunction() {
      $(document.documentElement).animate({ scrollTop: 0 }, 'slow');
      $(document.body).animate({ scrollTop: 0 }, 'slow');
    }
  </script>

  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css" />
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "var(--cookie-bg)",
      "text": "var(--cookie-font)"
    },
    "button": {
      "background": "var(--color-primary)",
      "hover": "var(--color-secondary)"
    }
  },
  "theme": "classic",
  "position": "bottom-left",
  "content": {
    "dismiss": "Close"
  }
})});
</script>

  
  <button onclick="topFunction()" id="myBtn" title="Back to top">&#8682;</button>
</header>
<nav class="navbar">
  <label class="navbar-toggle" id="js-navbar-toggle" for="chkToggle">
    <i class="fa fa-bars"></i>
  </label>
    <a href="https://techstop.github.io/" class="logo">techStop</a>
  <input type="checkbox" id="chkToggle"></input>
  <ul class="main-nav" id="js-menu"><li>
      <a href="https://techstop.github.io/" class="nav-links">Home</a>
    </li>
    <li>
      <a href="https://techstop.github.io/categories/linux/" class="nav-links">Linux</a>
    </li>
    <li>
      <a href="https://techstop.github.io/categories/android/" class="nav-links">Android</a>
    </li>
    <li>
      <a href="https://techstop.github.io/categories/tutorials/" class="nav-links">Tutorials</a>
    </li>
    <li>
      <a href="https://techstop.github.io/blog-tags/" class="nav-links">Tags</a>
    </li>
    <li>
      <a href="https://techstop.github.io/search/" class="nav-links"><button type="submit" style="background: none; border: none; padding: 0;" title="Search"><i class="fa fa-search"></i></button></a>
    </li>
  </ul>
</nav>
<div style="float: right; margin-top: 10px; margin-right: 20px;">
<a href="//github.com/GameTheory-" id="social-icon" class="icon-github" target="_blank" title="Github"></a>
<a class="icon-rss" href="https://techstop.github.io/post/index.xml" title="RSS" target="_blank"></a>
</div>
<div class="theme-switch-wrapper">
      <label class="theme-switch" for="checkbox" title="Dark Mode">
        <input type="checkbox" id="checkbox" />
        <div class="slider round"></div>
      </label>
      <label class="theme-switch-label">Dark Mode</label>
    </div>
    <br>
    <div class="container clearfix">
      <main>
        <div class="content">
  <article>
    <a class="btn home" href="https://techstop.github.io/" title="Back to home">&laquo; Back to home</a>
    
  <h1><a href="https://techstop.github.io/menu-bash-script/" title="Create a Menu in a Bash Script">Create a Menu in a Bash Script</a></h1>

<div class="post-info">Published: Oct 2, 2019</div>

    <div class="myImgContainer">
<img class="myImg" src="https://techstop.github.io/images/linux/menu.png" alt="Create a Menu in Bash Script" title="Create a Menu in Bash Script"  width="150px">
</div>

<div id="myModal" class="modal">
  <span class="close">&times;</span>
  <img class="modal-content" id="img01">
  <div id="caption"></div>
</div>

<script>
	
	var modal = document.getElementById('myModal');
	var i;
	
	var img = document.getElementsByClassName('myImg');
	var modalImg = document.getElementById("img01");
	var captionText = document.getElementById("caption");
	for(i = 0; i < img.length; i++) {
		img[i].onclick = function() {
			modal.style.display = "block";
			modalImg.src = this.src;
			captionText.innerHTML = this.alt;
		}
	}
	
	var span = document.getElementsByClassName("close")[0];

	
	span.onclick = function() { 
		modal.style.display = "none";
	}
</script>


<p>Creating a menu in a bash script can be quite useful and at times necessary. A bash menu can allow you to provide options for user input. Upon user selection of an option in your menu, you can run a command or sequence of commands and display outputs.</p>

<p>There are a few ways to create menus in a bash script. For this tutorial we will be creating a somewhat advanced menu that is quite flexible and easy to understand. We will be using bash functions, so it&rsquo;s a good idea to get familiar with functions. You can read about functions in one of my tutorials found <a href="https://techstop.github.io/bash-functions/">here</a>.</p>

<h2 id="creating-a-bash-script-menu"><strong>Creating a Bash Script Menu</strong></h2>

<p>You will need to place your menu at the bottom of your script since we will be calling functions from the menu and functions need to be placed at the top. Code that makes calls to functions needs to be below the functions.</p>

<p>Taking a look at the following example script you can see that all code is in functions except the menu code.</p>

<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="cp">#!/bin/bash
</span><span class="cp"></span>
menu_option_one<span class="o">()</span> <span class="o">{</span>
  <span class="nb">echo</span> <span class="s2">&#34;Hello John!!!&#34;</span>
<span class="o">}</span>

menu_option_two<span class="o">()</span> <span class="o">{</span>
  <span class="nb">echo</span> <span class="s2">&#34;Some super cool code by John.&#34;</span>
<span class="o">}</span>

press_enter<span class="o">()</span> <span class="o">{</span>
  <span class="nb">echo</span> <span class="s2">&#34;&#34;</span>
  <span class="nb">echo</span> -n <span class="s2">&#34;	Press Enter to continue &#34;</span>
  <span class="nb">read</span>
  clear
<span class="o">}</span>

incorrect_selection<span class="o">()</span> <span class="o">{</span>
  <span class="nb">echo</span> <span class="s2">&#34;Incorrect selection! Try again.&#34;</span>
<span class="o">}</span>

<span class="k">until</span> <span class="o">[</span> <span class="s2">&#34;</span><span class="nv">$selection</span><span class="s2">&#34;</span> <span class="o">=</span> <span class="s2">&#34;0&#34;</span> <span class="o">]</span><span class="p">;</span> <span class="k">do</span>
  clear
  <span class="nb">echo</span> <span class="s2">&#34;&#34;</span>
  <span class="nb">echo</span> <span class="s2">&#34;    	1  -  Menu Option 1&#34;</span>
  <span class="nb">echo</span> <span class="s2">&#34;    	2  -  Menu Option 2&#34;</span>
  <span class="nb">echo</span> <span class="s2">&#34;    	0  -  Exit&#34;</span>
  <span class="nb">echo</span> <span class="s2">&#34;&#34;</span>
  <span class="nb">echo</span> -n <span class="s2">&#34;  Enter selection: &#34;</span>
  <span class="nb">read</span> selection
  <span class="nb">echo</span> <span class="s2">&#34;&#34;</span>
  <span class="k">case</span> <span class="nv">$selection</span> in
    <span class="m">1</span> <span class="o">)</span> clear <span class="p">;</span> menu_option_one <span class="p">;</span> press_enter <span class="p">;;</span>
    <span class="m">2</span> <span class="o">)</span> clear <span class="p">;</span> menu_option_two <span class="p">;</span> press_enter <span class="p">;;</span>
    <span class="m">0</span> <span class="o">)</span> clear <span class="p">;</span> <span class="nb">exit</span> <span class="p">;;</span>
    * <span class="o">)</span> clear <span class="p">;</span> incorrect_selection <span class="p">;</span> press_enter <span class="p">;;</span>
  <span class="k">esac</span>
<span class="k">done</span></code></pre></div>

<p>Create a file called &ldquo;<strong>file.sh</strong>&rdquo; and copy the code above to it and give it execute permissions then run it in a terminal. Try all the menu options to give yourself a better understanding before you continue with this tutorial.</p>

<p>Now lets break things down a bit to learn what&rsquo;s going on in this script.</p>

<p>The menu is a loop that repeats itself until the selection is zero &ldquo;0&rdquo;. Since the menu is not in a function, it will load as soon as you run the script.</p>

<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="k">until</span> <span class="o">[</span> <span class="s2">&#34;</span><span class="nv">$selection</span><span class="s2">&#34;</span> <span class="o">=</span> <span class="s2">&#34;0&#34;</span> <span class="o">]</span><span class="p">;</span> <span class="k">do</span></code></pre></div>

<p>Looking at the following line, you&rsquo;ll notice an echo command prompting the user to enter a selection. The &ldquo;-n&rdquo; flag for this echo command keeps the cursor on the same line rather then on the next.</p>

<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="nb">echo</span> -n <span class="s2">&#34;  Enter selection: &#34;</span></code></pre></div>

<p>Once the user enters the selection, the read command passes the selection to the case statement.</p>

<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="nb">read</span> selection</code></pre></div>

<p>Now if you look at the case statement, each option starts with the clear command. This clears the screen and removes the input line to make the script appear more like a GUI.</p>

<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="k">case</span> <span class="nv">$selection</span> in
  <span class="m">1</span> <span class="o">)</span> clear <span class="p">;</span> menu_option_one <span class="p">;</span> press_enter <span class="p">;;</span>
  <span class="m">2</span> <span class="o">)</span> clear <span class="p">;</span> menu_option_two <span class="p">;</span> press_enter <span class="p">;;</span>
  <span class="m">0</span> <span class="o">)</span> clear <span class="p">;</span> <span class="nb">exit</span> <span class="p">;;</span>
  * <span class="o">)</span> clear <span class="p">;</span> incorrect_selection <span class="p">;</span> press_enter <span class="p">;;</span>
<span class="k">esac</span></code></pre></div>

<p>Also notice how each command in the case statement is separated by semicolons &ldquo;;&rdquo;. The second command is a call to a function.</p>

<p>The press_enter function prompts the user so they can continue when ready. This will give the user all the time they need to read any output.</p>

<p>Now the final option in the case statement is just in case the user enters a selection that does not exist. Since it&rsquo;s the final option, it is defined by an asterisk &ldquo;*&ldquo;.</p>

<h2 id="conclusion"><strong>Conclusion</strong></h2>

<p>You have now created a bash script menu. This should expand the versatility and user experience of your scripts and add a little aesthetics for the user. You can also call a submenu from your main menu by placing your submenu in a function.</p>

<p>That&rsquo;s all. Hope you enjoyed the tutorial. Feel free to comment below.</p>
    <ul class="share-buttons">
    <li>Share this article:</li>
    <li>
        <a class="icon-facebook-squared" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ftechstop.github.io%2fmenu-bash-script%2f" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title="Share on Facebook"></a>
    </li>
    <li>
        <a class="icon-twitter" href="https://twitter.com/share?text=Create%20a%20Menu%20in%20a%20Bash%20Script&amp;url=https%3a%2f%2ftechstop.github.io%2fmenu-bash-script%2f" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title="Tweet this article"></a>
    </li>
    <li>
        <a class="icon-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2ftechstop.github.io%2fmenu-bash-script%2f&title=Create%20a%20Menu%20in%20a%20Bash%20Script" onclick="window.open(this.href, 'linkedin-share', 'width=600,height=494');return false;" title="Share on Linkedin"></a>
    </li>
</ul>

    
      Tags:
      
        <a href="https://techstop.github.io/tags/tutorials">tutorials</a>, 
      
        <a href="https://techstop.github.io/tags/linux">linux</a>
      
    
    <div style="margin-top: 18px; text-align: center;">
      
        <span>&middot; <strong>More Articles</strong> &middot;</span>
      
      
        <div><a href="https://techstop.github.io/bash-script-colors/">&laquo; Colors In Bash Scripts</a></div>
      
      
        <div><a href="https://techstop.github.io/bash-functions/">Write Bash Functions &raquo;</a></div>
      
    </div>
  </article>
  <hr>
  
    <h3><a style="cursor: pointer;" onclick="loadComm()">Show Comments &#x1F4AC;</a></h3>
<div id="comment_form_wrapper" style="display: none;">
<script id="myScriptId" src="https://utteranc.es/client.js"
        repo="techstop/techstop"
        issue-term="title"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</div>
<script>
  function loadComm() {
    $('#comment_form_wrapper').toggle();
  }
</script>

  
  <style>
.highlight {
  position: relative;
}
.highlight-copy-btn {
  position: absolute;
  right: 0;
  top: -17px;
  border-radius: 4px;
  border: none;
  font-size: 9px;
  line-height: 14px;
  color: #ffffff;
  background-color: #111111;
  min-width: 55px;
  text-align: center;
}
.highlight-copy-btn:hover {
  background-color: #444444;
}
.highlight-copy-btn:focus {
  outline: 0;
}
</style>
<script>
(function() {
  'use strict';

  if(!document.queryCommandSupported('copy')) {
    return;
  }

  function flashCopyMessage(el, msg) {
    el.textContent = msg;
    setTimeout(function() {
      el.textContent = "Copy";
    }, 2000);
  }

  function selectText(node) {
    var selection = window.getSelection();
    var range = document.createRange();
    range.selectNodeContents(node);
    selection.removeAllRanges();
    selection.addRange(range);
    return selection;
  }

  function addCopyButton(containerEl) {
    var copyBtn = document.createElement("button");
    copyBtn.className = "highlight-copy-btn";
    copyBtn.textContent = "Copy";

    var codeEl = containerEl.firstElementChild;
    copyBtn.addEventListener('click', function() {
      try {
        var selection = selectText(codeEl);
        document.execCommand('copy');
        selection.removeAllRanges();

        flashCopyMessage(copyBtn, 'Copied!')
      } catch(e) {
        console && console.log(e);
        flashCopyMessage(copyBtn, 'Failed!')
      }
    });

    containerEl.appendChild(copyBtn);
  }

  var highlightBlocks = document.getElementsByClassName('highlight');
  Array.prototype.forEach.call(highlightBlocks, addCopyButton);
})();
</script>


        </div>
      </main>
    </div>
    <script>
const myScript = document.getElementById('myScriptId');
const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');

toggleSwitch.addEventListener('change', switchTheme, false);
function switchTheme(e) {
  if (e.target.checked) {
    document.documentElement.setAttribute('data-theme', 'dark');
    localStorage.setItem('theme', 'dark');
    
      document.location.reload(true)
    
  } else {
    document.documentElement.setAttribute('data-theme', 'light');
    localStorage.removeItem('theme');
    
      document.location.reload(true)
    
  }
}

const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;
if (currentTheme) {
  document.documentElement.setAttribute('data-theme', currentTheme);
  if (currentTheme === 'dark') {
    toggleSwitch.checked = true;
  }
  
    myScript.setAttribute('theme', 'github-dark');
  
}
</script>
<style>
  .font-row-one {
    font-size: 16px;
    padding-top: 2px;
  }
  .font-row-two {
    font-size: 12px;
  }
</style>
<footer class="main-footer">
  <div class="container clearfix">
    <a class="icon-rss" href="https://techstop.github.io/post/index.xml" title="RSS" target="_blank"></a>
    <div class="font-row-one">&copy; 2019 &middot; <a href="https://techstop.github.io/">techStop</a></div>
    <div><a href="https://techstop.github.io/about/" class="font-row-two">About</a> &middot; <a href="https://techstop.github.io/sitemap.xml" class="font-row-two">Sitemap</a> &middot; <a href="https://techstop.github.io/privacy-policy/" class="font-row-two">Privacy Policy</a></div>
  </div>
  <script src="https://techstop.github.io/bundle.min.4980076a9845e1c23b5f38d614dcf7ad0c37bf711703a3368f9039a17f812986.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script>window.jQuery || document.write('<script src="https:\/\/techstop.github.io\/$jquery"><\/script>')</script>
  <script src="https://techstop.github.io/js/plugins.js"></script>
</footer>
</body>
</html>
