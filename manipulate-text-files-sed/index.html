<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Manipulate Text in Files With Sed - techStop</title>
  <meta name="author" content="Antonio">
  <meta name="description" content="Follow along this tutorial to learn some basic usage for the sed linux command line utility. Learn how to manipulate text in files with sed using robust and powerful options.">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,300,700|Noto+Serif:400,400italic,700,700italic" type="text/css">
  <link rel="stylesheet" href="https://techstop.github.io/css/styles.css">
  <link rel="stylesheet" href="https://techstop.github.io/css/syntax.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="https://techstop.github.io/post/index.xml" rel="alternate" type="application/rss+xml" title="techStop" />
  <link href="https://techstop.github.io/post/index.xml" rel="feed" type="application/rss+xml" title="techStop" />
  <link rel="icon" href="https://techstop.github.io/img/favicon.ico">
  <link rel="apple-touch-icon" href="https://techstop.github.io/img/apple-touch-icon.png" />
  
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-114983197-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-114983197-2');
</script>

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-8645513020646755",
          enable_page_level_ads: true
     });
</script>
<script data-ad-client="ca-pub-8645513020646755" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

</head>
<body>
    <header class="site-header">
  <style>
    .site-header h2 .logo {
    background: url(https://techstop.github.io/) no-repeat 0 0;
    }
    @media (min--moz-device-pixel-ratio: 1.3), (-o-min-device-pixel-ratio: 2.6 / 2), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {
      .site-header h2 .logo {
        background-image: url(https://techstop.github.io/);
    } }
    .site-header {
      background: #2a373d url(https://techstop.github.io/) no-repeat center center;
      -webkit-background-size: cover;
      -moz-background-size: cover;
      -o-background-size: cover;
      background-size: cover;
    }
  </style>
  <script>
    window.onscroll = function() {scrollFunction()};
    function scrollFunction() {
      if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
        document.getElementById("myBtn").style.display = "block";
      } else {
        document.getElementById("myBtn").style.display = "none";
      }
    }
    function topFunction() {
      $(document.documentElement).animate({ scrollTop: 0 }, 'slow');
      $(document.body).animate({ scrollTop: 0 }, 'slow');
    }
  </script>

  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css" />
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "var(--cookie-bg)",
      "text": "var(--cookie-font)"
    },
    "button": {
      "background": "var(--color-primary)",
      "hover": "var(--color-secondary)"
    }
  },
  "theme": "classic",
  "position": "bottom-left",
  "content": {
    "dismiss": "Close"
  }
})});
</script>

  
  <button onclick="topFunction()" id="myBtn" title="Back to top">&#8682;</button>
</header>
<nav class="navbar">
  <label class="navbar-toggle" id="js-navbar-toggle" for="chkToggle">
    <i class="fa fa-bars"></i>
  </label>
    <a href="https://techstop.github.io/" class="logo">techStop</a>
  <input type="checkbox" id="chkToggle"></input>
  <ul class="main-nav" id="js-menu"><li>
      <a href="https://techstop.github.io/" class="nav-links">Home</a>
    </li>
    <li>
      <a href="https://techstop.github.io/categories/linux/" class="nav-links">Linux</a>
    </li>
    <li>
      <a href="https://techstop.github.io/categories/android/" class="nav-links">Android</a>
    </li>
    <li>
      <a href="https://techstop.github.io/categories/tutorials/" class="nav-links">Tutorials</a>
    </li>
    <li>
      <a href="https://techstop.github.io/blog-tags/" class="nav-links">Tags</a>
    </li>
    <li>
      <a href="https://techstop.github.io/search/" class="nav-links"><button type="submit" style="background: none; border: none; padding: 0;" title="Search"><i class="fa fa-search"></i></button></a>
    </li>
  </ul>
</nav>
<div style="float: right; margin-top: 10px; margin-right: 20px;">
<a href="//github.com/GameTheory-" id="social-icon" class="icon-github" target="_blank" title="Github"></a>
<a class="icon-rss" href="https://techstop.github.io/post/index.xml" title="RSS" target="_blank"></a>
</div>
<div class="theme-switch-wrapper">
      <label class="theme-switch" for="checkbox" title="Dark Mode">
        <input type="checkbox" id="checkbox" />
        <div class="slider round"></div>
      </label>
      <label class="theme-switch-label">Dark Mode</label>
    </div>
    <br>
    <div class="container clearfix">
      <main>
        <div class="content">
  <article>
    <a class="btn home" href="https://techstop.github.io/" title="Back to home">&laquo; Back to home</a>
    
  <h1><a href="https://techstop.github.io/manipulate-text-files-sed/" title="Manipulate Text in Files With Sed">Manipulate Text in Files With Sed</a></h1>

<div class="post-info">Published: Sep 22, 2019</div>

    <div class="myImgContainer">
<img class="myImg" src="https://techstop.github.io/images/linux/sed.png" alt="Sed Text Stream Editor" title="Sed Text Stream Editor"  width="150px">
</div>

<div id="myModal" class="modal">
  <span class="close">&times;</span>
  <img class="modal-content" id="img01">
  <div id="caption"></div>
</div>

<script>
	
	var modal = document.getElementById('myModal');
	var i;
	
	var img = document.getElementsByClassName('myImg');
	var modalImg = document.getElementById("img01");
	var captionText = document.getElementById("caption");
	for(i = 0; i < img.length; i++) {
		img[i].onclick = function() {
			modal.style.display = "block";
			modalImg.src = this.src;
			captionText.innerHTML = this.alt;
		}
	}
	
	var span = document.getElementsByClassName("close")[0];

	
	span.onclick = function() { 
		modal.style.display = "none";
	}
</script>

<p>The sed linux utility is a powerful stream editor. Sed can manipulate text from standard input or from a file. It is much like a typical text editor. Where sed sets itself apart is in its ability to filter text in a pipeline to expand its capabilities.</p>
<p>Sed can work wonders in a shell script. You can pipe other commands to sed or use variables. Use it to process files of all sizes. Find specific strings of text and patterns in your input and manipulate the text to your needs. With sed you can also edit a file directly or save to a new file. The possibilities with sed are near endless.</p>
<p>In this tutorial I will show you some basic and common uses of sed to manipulate text.</p>
<h2 id="manipulate-text-with-sed"><strong>Manipulate Text With Sed</strong></h2>
<p>Basic sed syntax.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">sed <span class="o">[</span>options<span class="o">]</span> <span class="o">[</span>command<span class="o">]</span> <span class="o">[</span>file-to-eidt<span class="o">]</span></code></pre></div>
<p>Sed has an extensive list of options to manipulate input. For this tutorial we will be using 2 options.</p>
<ul>
<li>[-e] Doesn&rsquo;t edit the file in place, but rather shows the edited output in your terminal. This is good for testing before actually editing a file directly.</li>
<li>[-i] Edits a file in place. Can also make a backup if you add a suffix. Example: [-i-bak]</li>
</ul>
<p>Create a file called &ldquo;<strong>test</strong>&rdquo; and add the following sentence to it.</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">We will learn how to use sed to edit text input streams.</code></pre></div>
<p>We will use the above sentence to practice with sed.</p>
<p><strong>Replace a string with another string.</strong></p>
<p>In this first example we will replace the word &ldquo;<strong>learn</strong>&rdquo; with &ldquo;<strong>follow</strong>&rdquo;. We will first run a test with the [-e] option just to be sure before making the final edit.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">sed -e <span class="s1">&#39;s/learn/follow/g&#39;</span> test</code></pre></div>
<p>You should see the word learn replaced with follow in your terminal output. Now lets make the edit directly to the file with the [-i] option.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">sed -i <span class="s1">&#39;s/learn/follow/g&#39;</span> test</code></pre></div>
<p>If you open the test file you&rsquo;ll see the word learn replaced with follow. Now lets change it back to learn, only this time we will make a backup of the original file.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">sed -i-bak <span class="s1">&#39;s/follow/learn/g&#39;</span> test</code></pre></div>
<p>As you can see a backup file called &ldquo;<strong>test-bak</strong>&rdquo; was created and then the original file was edited. Lets instead use sed to create a new file called &ldquo;<strong>my-file</strong>&rdquo; with our changes.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">sed <span class="s1">&#39;s/follow/learn/g&#39;</span> <span class="nb">test</span> &gt; my-file</code></pre></div>
<p>You should now have the new file with the word follow replaced with learn while the original test file still shows the word follow.</p>
<p>Now that you&rsquo;ve learned a few basic examples with sed we can move at a faster pace through the tutorial.</p>
<h2 id="more-sed-examples"><strong>More Sed Examples</strong></h2>
<p><strong>Delete all empty lines with sed.</strong></p>
<p>If you have a file with multiple lines separated by empty lines you can remove the empty lines easily with sed.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">sed -i <span class="s1">&#39;/^\s*$/d&#39;</span> filename</code></pre></div>
<p><strong>Delete a word or phrase.</strong></p>
<p>Delete every instance of a word or phrase.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">sed -i <span class="s1">&#39;s/word-to-remove//g&#39;</span> filename</code></pre></div>
<p><strong>Append to the beginning of every line.</strong></p>
<p>Add a word or phrase to the beginning of each line in a file.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">sed -i <span class="s1">&#39;s/^/word-or-phrase/&#39;</span> filename</code></pre></div>
<p><strong>Append to the end of every line.</strong></p>
<p>Add a word or phrase to the end of each line in a file.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">sed -i <span class="s1">&#39;s/$/words or patterns/&#39;</span> filename</code></pre></div>
<p><strong>Convert all file contents to uppercase.</strong></p>
<p>Convert every letter in a file to uppercase.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">sed -i <span class="s1">&#39;s/\(.*\)/\U\1/&#39;</span> filename</code></pre></div>
<p><strong>Convert all file contents to lowercase.</strong></p>
<p>Convert every letter in a file to lowercase.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">sed -i <span class="s1">&#39;s/\(.*\)/\L\1/&#39;</span> filename</code></pre></div>
<h2 id="conclusion"><strong>Conclusion</strong></h2>
<p>Sed is an extensive and powerful text stream editor and we only scratched the surface on what it can do. If you&rsquo;d like to learn more about sed, have a look at the manual. Just run this command in terminal.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">man sed</code></pre></div>
    <ul class="share-buttons">
    <li>Share this article:</li>
    <li>
        <a class="icon-facebook-squared" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ftechstop.github.io%2fmanipulate-text-files-sed%2f" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title="Share on Facebook"></a>
    </li>
    <li>
        <a class="icon-twitter" href="https://twitter.com/share?text=Manipulate%20Text%20in%20Files%20With%20Sed&amp;url=https%3a%2f%2ftechstop.github.io%2fmanipulate-text-files-sed%2f" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title="Tweet this article"></a>
    </li>
    <li>
        <a class="icon-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2ftechstop.github.io%2fmanipulate-text-files-sed%2f&title=Manipulate%20Text%20in%20Files%20With%20Sed" onclick="window.open(this.href, 'linkedin-share', 'width=600,height=494');return false;" title="Share on Linkedin"></a>
    </li>
</ul>

    
      Tags:
      
        <a href="https://techstop.github.io/tags/linux">linux</a>, 
      
        <a href="https://techstop.github.io/tags/tutorials">tutorials</a>
      
    
    <div style="margin-top: 18px; text-align: center;">
      
        <span>&middot; <strong>More Articles</strong> &middot;</span>
      
      
        <div><a href="https://techstop.github.io/detect-android-wakelocks/">&laquo; Detect Android Wakelocks</a></div>
      
      
        <div><a href="https://techstop.github.io/create-desktop-launcher-linux/">Create A Desktop Launcher In Linux &raquo;</a></div>
      
    </div>
  </article>
  <hr>
  
    <h3><a style="cursor: pointer;" onclick="loadComm()">Show Comments &#x1F4AC;</a></h3>
<div id="comment_form_wrapper" style="display: none;">
<script id="myScriptId" src="https://utteranc.es/client.js"
        repo="techstop/techstop"
        issue-term="title"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</div>
<script>
  function loadComm() {
    $('#comment_form_wrapper').toggle();
  }
</script>

  
  <style>
.highlight {
  position: relative;
}
.highlight-copy-btn {
  position: absolute;
  right: 0;
  top: -17px;
  border-radius: 4px;
  border: none;
  font-size: 9px;
  line-height: 14px;
  color: #ffffff;
  background-color: #111111;
  min-width: 55px;
  text-align: center;
}
.highlight-copy-btn:hover {
  background-color: #444444;
}
.highlight-copy-btn:focus {
  outline: 0;
}
</style>
<script>
(function() {
  'use strict';

  if(!document.queryCommandSupported('copy')) {
    return;
  }

  function flashCopyMessage(el, msg) {
    el.textContent = msg;
    setTimeout(function() {
      el.textContent = "Copy";
    }, 2000);
  }

  function selectText(node) {
    var selection = window.getSelection();
    var range = document.createRange();
    range.selectNodeContents(node);
    selection.removeAllRanges();
    selection.addRange(range);
    return selection;
  }

  function addCopyButton(containerEl) {
    var copyBtn = document.createElement("button");
    copyBtn.className = "highlight-copy-btn";
    copyBtn.textContent = "Copy";

    var codeEl = containerEl.firstElementChild;
    copyBtn.addEventListener('click', function() {
      try {
        var selection = selectText(codeEl);
        document.execCommand('copy');
        selection.removeAllRanges();

        flashCopyMessage(copyBtn, 'Copied!')
      } catch(e) {
        console && console.log(e);
        flashCopyMessage(copyBtn, 'Failed!')
      }
    });

    containerEl.appendChild(copyBtn);
  }

  var highlightBlocks = document.getElementsByClassName('highlight');
  Array.prototype.forEach.call(highlightBlocks, addCopyButton);
})();
</script>


        </div>
      </main>
    </div>
    <script>
const myScript = document.getElementById('myScriptId');
const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');

toggleSwitch.addEventListener('change', switchTheme, false);
function switchTheme(e) {
  if (e.target.checked) {
    document.documentElement.setAttribute('data-theme', 'dark');
    localStorage.setItem('theme', 'dark');
    
      document.location.reload(true)
    
  } else {
    document.documentElement.setAttribute('data-theme', 'light');
    localStorage.removeItem('theme');
    
      document.location.reload(true)
    
  }
}

const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;
if (currentTheme) {
  document.documentElement.setAttribute('data-theme', currentTheme);
  if (currentTheme === 'dark') {
    toggleSwitch.checked = true;
  }
  
    myScript.setAttribute('theme', 'github-dark');
  
}
</script>
<style>
  .font-row-one {
    font-size: 16px;
    padding-top: 2px;
  }
  .font-row-two {
    font-size: 12px;
  }
</style>
<footer class="main-footer">
  <div class="container clearfix">
    <a class="icon-rss" href="https://techstop.github.io/post/index.xml" title="RSS" target="_blank"></a>
    <div class="font-row-one">&copy; 2019 &#8208; 2020 &middot; <a href="https://techstop.github.io/">techStop</a></div>
    <div><a href="https://techstop.github.io/about/" class="font-row-two">About</a> &middot; <a href="https://techstop.github.io/sitemap.xml" class="font-row-two">Sitemap</a> &middot; <a href="https://techstop.github.io/privacy-policy/" class="font-row-two">Privacy Policy</a></div>
  </div>
  <script src="https://techstop.github.io/bundle.min.544e8745be7c88924af3c62198a3969cf339cd6fe694b02cf5e87dc3b923dcf3.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script>window.jQuery || document.write('<script src="https:\/\/techstop.github.io\/$jquery"><\/script>')</script>
  <script src="https://techstop.github.io/js/plugins.js"></script>
</footer>
</body>
</html>
